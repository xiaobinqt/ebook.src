import{_ as e}from"./V-Breadcrumb.vue_vue&type=script&setup=true&lang.95222eda.js";import{a as s,_ as a}from"./V-Field.vue_vue&type=script&setup=true&lang.50df6a27.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.7d7c3fd2.js";import{_ as l}from"./V-FlexNone.vue_vue&type=script&setup=true&lang.cbed393c.js";import{_ as n}from"./V-Desc.vue_vue&type=style&index=0&media=screen&lang.a15b66b4.js";import{a as o,c as r,d as i,u as c}from"./index.670b29b2.js";import{u as p}from"./useDropdown.490deeca.js";import{d,j as u,k as m,n as v,u as h,i as g,B as f,C as y,S as b,F as _,U as w,r as x,v as j,a as k,W as A,P as V,X as T,A as z,$ as C,E as N,z as F,O as S}from"./vendor.6243191d.js";import{_ as B}from"./V-FlexTable.vue_vue&type=script&setup=true&lang.19fc13e5.js";import{_ as q}from"./V-FlexPagination.vue_vue&type=script&setup=true&lang.036e60ba.js";import{u as I}from"./useNotyf.8c9a8697.js";import{a as O,t as P}from"./activeSidebarState.4b53b430.js";import"./V-PlaceholderSection.vue_vue&type=script&setup=true&lang.67c36c04.js";const D=v("i",{class:"iconify","data-icon":"feather:more-vertical"},null,-1),E={class:"dropdown-menu",role:"menu",style:{"min-width":"auto"}},U={class:"dropdown-content"},L=v("span",null,"修改",-1),W=v("span",null,"删除",-1);var X=d({expose:[],props:{row:{type:Object,required:!0}},setup(e){const{row:s}=e;o();const a=r();i();const{dropdownElement:t,isOpen:l,toggle:n}=p();console.log("row.status",s.status);const c=g("removeAppType");return(e,o)=>(u(),m("div",{ref:t,class:[[h(l)&&"is-active"],"dropdown is-spaced is-dots is-right dropdown-trigger is-pushed-mobile"]},[v("div",{class:"is-trigger","aria-haspopup":"true",onClick:o[1]||(o[1]=(...e)=>h(n)&&h(n)(...e))},[D]),v("div",E,[v("div",U,[v("a",{class:"dropdown-item is-media",onClick:o[2]||(o[2]=e=>{a.push({name:"admin-types-id-edit",params:{id:s.type_id}})})},[L]),v("a",{href:"#",class:"dropdown-item is-media",onClick:o[3]||(o[3]=e=>{c(s)})},[W])])])],2))}});f("data-v-40845cf0");const $={class:"flex-table-cell flex-grow-short","data-th":"Name"},G={class:"flex-table-cell","data-th":"Name"},H={class:"flex-table-cell","data-th":"Name"},J={class:"flex-table-cell cell-end","data-th":"Actions"};y();var K=d({expose:[],props:{rows:{type:Array,required:!0}},setup:e=>(s,a)=>{const t=n,l=X;return u(!0),m(_,null,b(e.rows,(e=>(u(),m("div",{key:e.id,class:"flex-table-item"},[v("div",$,w(e.name),1),v("div",G,w(e.charts?e.charts.length:0)+" 个 ",1),v("div",H,[v(t,{content:e.desc},null,8,["content"])]),v("div",J,[v(l,{key:e.type_id,row:e},null,8,["row"])])])))),128)}});K.__scopeId="data-v-40845cf0";const M=C();f("data-v-453b5d4d");const Q={key:0},R={class:"list-view-toolbar"},Y={class:"buttons"},Z=N("添加数据图表"),ee={class:"page-content-inner"},se=v("div",{class:"flex-table-header"},[v("span",{class:"flex-grow-short"},"名称"),v("span",null,"图表"),v("span",null,"描述"),v("span",{class:"cell-end"},"操作")],-1);y();var ae=d({expose:[],props:{audit:{type:Boolean,default:!1}},setup(e){const n=o(),c=r(),p=i(),d=I();x(!1),x(!1),x();const g=x(""),f=j((()=>{try{return Number.parseInt(n.query.page)||1}catch(e){}return 1})),y=j((()=>p.state.channel.types));return F("removeAppType",(e=>{p.dispatch("channel/removeAppType",e.type_id).then((()=>{d.success("删除成功！"),p.dispatch("channel/getAppTypes",{page:1,size:10})}))})),k([g,f],((e,s)=>{e[0]!==s[0]&&(c.push("types"),p.dispatch("channel/getAppTypes",{page:1,size:10,search:e[0]})),e[1]!==s[1]&&p.dispatch("channel/getAppTypes",{page:f.value,size:10,search:e[0]})})),A((()=>{p.dispatch("channel/getAppTypes",{page:f.value,size:10})})),(e,n)=>{const o=s,r=a,i=t,c=l,p=K,d=B,b=q;return h(y).page_info?(u(),m("div",Q,[v("div",R,[v(r,null,{default:M((()=>[v(o,{icon:"feather:search"},{default:M((()=>[V(v("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>g.value=e),class:"input custom-text-filter",placeholder:"Search..."},null,512),[[T,g.value]])])),_:1})])),_:1}),z("",!0),v("div",Y,[v(i,{to:{name:"admin-types-form"},color:"success"},{default:M((()=>[Z])),_:1})])]),v("div",ee,[h(y)&&0===h(y).data.length?(u(),m(c,{key:0,title:"没有数据",subtitle:"当前没有要显示的数据"})):(u(),m(d,{key:1,compact:""},{header:M((()=>[se])),body:M((()=>[v(p,{rows:h(y).data},null,8,["rows"])])),_:1})),h(y).page_info.count?(u(),m(b,{key:2,"item-per-page":h(y).page_info.size,"total-items":h(y).page_info.count,"current-page":h(f),"max-links-displayed":5},null,8,["item-per-page","total-items","current-page"])):z("",!0)])])):z("",!0)}}});ae.__scopeId="data-v-453b5d4d";const te={class:"page-title has-text-centered"},le={class:"menu-toggle has-chevron"},ne=v("span",{class:"rotate"},[v("i",{class:"icon-line-top"}),v("i",{class:"icon-line-center"}),v("i",{class:"icon-line-bottom"})],-1),oe=v("div",{class:"title-wrap"},[v("h1",{class:"title is-4"},"数据图表管理")],-1),re={class:"page-content-inner"},ie={class:"breadcrumb-box"},ce=v("i",{class:"iconify","data-icon":"feather:corner-down-left"},null,-1);var pe=d({expose:[],setup(s){c({title:"数据图表管理"}),S((()=>{O.value="none"}));const a=x([{icon:"feather:home",hideLabel:!0,to:{name:"admin-users"}},{label:"数据图表管理",to:{name:"admin-types"}}]);return(s,t)=>{const l=e,n=ae;return u(),m("div",null,[v("div",te,[v("div",{class:"vuero-hamburger nav-trigger push-resize",onClick:t[1]||(t[1]=e=>h(P)("none"))},[v("span",le,[v("span",{class:[["none"===h(O)&&""],"icon-box-toggle"]},[ne],2)])]),oe]),v("div",re,[v("div",ie,[a.value?(u(),m(l,{key:0,items:a.value,separator:"bullet","with-icons":""},null,8,["items"])):z("",!0),v("div",{onClick:t[2]||(t[2]=()=>s.router.back())},[ce])]),v(n)])])}}});export default pe;
