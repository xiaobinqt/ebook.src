import{d as e,f as a}from"./index.670b29b2.js";import{_ as l}from"./SidebarUserProfile.vue_vue&type=script&setup=true&lang.e4e92c9e.js";import{_ as t}from"./V-Button.vue_vue&type=script&setup=true&lang.7d7c3fd2.js";import{_ as s}from"./V-Modal.vue_vue&type=script&setup=true&lang.13c249d1.js";import{d as n,r as u,v as i,b as o,l as r,Q as d,j as v,k as c,n as m,m as p,A as f,P as y,u as b,X as g,a7 as h,E as _,D as k}from"./vendor.6243191d.js";import{u as x}from"./useNotyf.8c9a8697.js";import"./V-Avatar.vue_vue&type=script&setup=true&lang.b24e093a.js";import"./V-PlaceholderSection.vue_vue&type=script&setup=true&lang.67c36c04.js";import"./useDropdown.490deeca.js";const j={class:"main-sidebar"},L={class:"sidebar-brand"},V={class:"sidebar-inner"},S=m("div",{class:"naver"},null,-1),C={class:"icon-menu"},U=m("i",{class:"iconify sidebar-svg","data-icon":"feather:users"},null,-1),P=m("i",{class:"iconify sidebar-svg","data-icon":"feather:monitor"},null,-1),$=m("i",{class:"iconify sidebar-svg","data-icon":"feather:grid"},null,-1),A=m("i",{class:"iconify sidebar-svg","data-icon":"feather:server"},null,-1),D=m("i",{class:"iconify sidebar-svg","data-icon":"feather:layers"},null,-1),w=m("i",{class:"iconify sidebar-svg","data-icon":"feather:package"},null,-1),z=m("i",{class:"iconify sidebar-svg","data-icon":"feather:file-text"},null,-1),B=m("a",{href:"/manual/",target:"_blank"},[m("i",{class:"iconify sidebar-svg","data-icon":"feather:book-open"})],-1),E={class:"bottom-menu"},M=m("a",{href:"javascript:;",id:"open-settings"},[m("i",{class:"iconify sidebar-svg","data-icon":"feather:settings"})],-1),N={class:"conversation"},Q=m("div",{class:"conversation-title"}," 系统会话超时时长 ",-1),R=m("span",null,"分钟",-1),X=m("p",null,"用户长时间未操作，将强制结束当前会话",-1),q=m("hr",null,null,-1),F={class:" conversation amount"},G=m("div",{class:"amount-title"}," 系统最大会话连接数 ",-1),H={class:"checkbox"},I=m("span",null,null,-1),J=_("不限制 "),K={key:1,type:"text",class:"input",placeholder:"请输入最大连接数",readonly:""},O=m("span",null,"个",-1),T=m("p",null,"允许同时在线用户数上限",-1),W=_("确定");var Y=n({expose:[],setup(n){const _=x(),k=e(),Y=u(!1),Z=i((()=>k.state.channel.user)),ee=()=>{if(""===ae[0].value&&""===ae[1].value&&!1===le.value)return Y.value=!1,ae[0].value="1440",ae[1].value="",void(le.value=!0);""===ae[0].value||/^\d+$/.test(ae[0].value)?ae[0].value&&(ae[0].value<1||ae[0].value>1440)?_.error("会话时长范围为1分钟-24小时"):ae[1].value&&(ae[1].value<1||!/^\d+$/.test(ae[1].value))?_.error("最大连接数只允许输入大于0的整数数字"):k.dispatch("user/systemSet",[{name:"token_expire",value:ae[0].value,remark:"系统会话超时时长"},{name:"max_connect",value:le.value?"-1":ae[1].value,remark:"系统最大会话连接数"}]).then((()=>{Y.value=!1,ae[0].value="1440",ae[1].value="",le.value=!0})):_.error("会话时长需为整数")},ae=o([{name:"token_expire",value:"1440",remark:"系统会话超时时长"},{name:"max_connect",value:"",remark:"系统最大会话连接数"}]),le=u(!0);return(e,n)=>{const u=a,i=r("RouterLink"),o=l,_=t,x=s,te=d("tooltip");return v(),c("div",j,[m("div",L,[m(i,{to:{name:"index"}},{default:p((()=>[m(u)])),_:1})]),m("div",V,[S,m("ul",C,[f("",!0),m("li",null,[y(m("div",null,[m(i,{id:"layouts-sidebar-menu2",to:{name:"admin-users"},"data-content":"Layouts"},{default:p((()=>[U])),_:1})],512),[[te,"用户管理",void 0,{bottom:!0,right:!0,rounded:!0}]])]),m("li",null,[y(m("div",null,[m(i,{id:"layouts-sidebar-menu7",to:{name:"admin-edges"},"data-content":"Layouts"},{default:p((()=>[P])),_:1})],512),[[te,"终端管理",void 0,{bottom:!0,right:!0,rounded:!0}]])]),m("li",null,[y(m("div",null,[m(i,{id:"layouts-sidebar-menu7",to:{name:"admin-instances"},"data-content":"Layouts"},{default:p((()=>[$])),_:1})],512),[[te,"应用实例管理",void 0,{bottom:!0,right:!0,rounded:!0}]])]),m("li",null,[y(m("div",null,[m(i,{id:"layouts-sidebar-menu4",to:{name:"admin-agents"},"data-content":"Layouts"},{default:p((()=>[A])),_:1})],512),[[te,"设备模型管理",void 0,{bottom:!0,right:!0,rounded:!0}]])]),f("",!0),m("li",null,[y(m("div",null,[m(i,{id:"layouts-sidebar-menu5",to:{name:"admin-types"},"data-content":"Layouts"},{default:p((()=>[D])),_:1})],512),[[te,"数据图表管理",void 0,{bottom:!0,right:!0,rounded:!0}]])]),m("li",null,[y(m("div",null,[m(i,{id:"layouts-sidebar-menu6",to:{name:"admin-packages"},"data-content":"Layouts"},{default:p((()=>[w])),_:1})],512),[[te,"节点商店",void 0,{bottom:!0,right:!0,rounded:!0}]])]),m("li",null,[y(m("div",null,[m(i,{id:"layouts-sidebar-menu6",to:{name:"admin-logs"},"data-content":"Layouts"},{default:p((()=>[z])),_:1})],512),[[te,"操作日志",void 0,{bottom:!0,right:!0,rounded:!0}]])]),m("li",null,[y(m("div",null,[B],512),[[te,"文档介绍",void 0,{bottom:!0,right:!0,rounded:!0}]])])]),m("ul",E,[1===b(Z).super_admin?(v(),c("li",{key:0,onClick:n[1]||(n[1]=e=>(Y.value=!0,void k.dispatch("user/getSystemSet").then((e=>{ae[0].value=e[1].value,"-1"===e[0].value?le.value=!0:(le.value=!1,ae[1].value=e[0].value)}))))},[M])):f("",!0),m(o)])]),m(x,{open:Y.value,size:"large",actions:"center",onClose:n[5]||(n[5]=e=>{Y.value=!1,b(ae)[0].value="1440",b(ae)[1].value="",le.value=!0}),title:"系统设置"},{content:p((()=>[m("div",N,[Q,y(m("input",{class:"input",placeholder:"请输入会话时长","onUpdate:modelValue":n[2]||(n[2]=e=>b(ae)[0].value=e)},null,512),[[g,b(ae)[0].value]]),R]),X,q,m("div",F,[G,m("label",H,[y(m("input",{type:"checkbox","onUpdate:modelValue":n[3]||(n[3]=e=>le.value=e)},null,512),[[h,le.value]]),I,J]),le.value?(v(),c("input",K)):y((v(),c("input",{key:0,type:"text",class:"input","onUpdate:modelValue":n[4]||(n[4]=e=>b(ae)[1].value=e),placeholder:"请输入最大连接数"},null,512)),[[g,b(ae)[1].value]]),O]),T])),action:p((()=>[m(_,{color:"primary",onClick:ee,raised:""},{default:p((()=>[W])),_:1})])),_:1},8,["open"])])}}});const Z={class:"default-layout"},ee=m("div",{class:"app-overlay"},null,-1);var ae=n({expose:[],setup:e=>(console.log("=========CiSidebar========"),(e,a)=>{const l=Y;return v(),c("div",Z,[ee,m(l),k(e.$slots,"default")])})});export default ae;
