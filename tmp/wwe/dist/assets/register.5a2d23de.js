import{d as s,r as a,b as e,j as l,k as t,n,a2 as o,P as r,X as i,u,$ as c,B as d,E as p,C as m,l as h}from"./vendor.6243191d.js";import{_ as v,a as A}from"./left-img.798bb77d.js";import{u as g,c as w,d as x}from"./index.670b29b2.js";import{u as I}from"./useNotyf.8c9a8697.js";const U=c();d("data-v-4a891704");const b={class:"register"},V=n("div",{class:"left"},[n("img",{class:"logo",src:v,alt:""}),n("img",{class:"login-img",src:A,alt:""})],-1),j={class:"right"},C={class:"right-content"},E=n("div",{class:"title"},"注册",-1),R={class:"control has-validation"},Q=n("div",{class:"auth-label"},"用户账号",-1),f=n("div",{class:"show"},null,-1),y={class:"control has-validation"},q=n("div",{class:"auth-label"},"用户密码",-1),N=n("div",{class:"show"},null,-1),X={class:"control has-validation"},S=n("div",{class:"auth-label"},"真实姓名",-1),T=n("div",{class:"show"},null,-1),_={class:"control has-validation"},B=n("div",{class:"auth-label"},"手机号码",-1),J=n("div",{class:"show"},null,-1),W={class:"button-wrap has-help"},Y=p(" 注册 "),k=n("img",{class:"go",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAnCAYAAABqippxAAAAAXNSR0IArs4c6QAAAptJREFUWEftmEtoE1EUhv8zJhBw4caVoIuKWEHECi5a8FFoMQ9duLUILkxnJtaNFhFX2XVRRRAyN2mFYtEuXVjpJFZ0ISi6Uat70QZsEBcKSkKTe0qaBxJvkgnJhCwyu5kz99xvzvz3vw+C4hLCPgPCkirm0rOvpEocj6+cY9ATlzpVpV1XggiROguSy90CYeCLMxDmJWhIM5PWCTgNVGDwOIBjxXyOQTSSR3Q99KkTEJUcQqzcBtH1lkAIGDGMwJtOglhx+x4BV/sglar2K1KrL4cVsc+D8LjSmCWdjET8r1Rijc2lRrRCYRAgSYTfhhGotmskbkcgiURqUMrCxUoiTfMmdH38m9qF7WEGXldjzJOmGZxvNsIcgTRLUhsXwp4B4Wb5+Xoh7x2amhr72XZFWgVZWHjpy+aynwHsL7YlYNYwAje6DlLsUAj7NAgvShzIgumUafrf1YNx5ddUbTtuPwQwsX3PeJ7J+ALR6GheBeMqSCKxukvy5hpA+7ZZiMIR3X/fEUgs9vQQPNreVnWhep8IOZLaBMDhcjxdyHuPqoT7X0WEsOdBuNwJEGUOwt3M97fT0WhU/htXgCQtEJuugQCbnh08EA4H001AeqQiLmukrrm5PGqWd0t4PoKxpzRqcCmiBx44GjWd1IYQK49AdKHsrs82NnyhrvuINZccI8mr5Q/LgXnYNIPvu+qsi4upnX/+yjUAAyVTxUzECNzq+lxjxe1ZAqYrJqaR57Cuj/9qG6SV9UgskRzVmIuTXWmKaSDQhj6iohbC+QrNspIniOQBV1ZotVvO/r6mX5FawfZsRaQmh65Mhj50cjqw4vYdAq6VDdDh+QiQIuAHlxbGbV8EMAPHARxsFaTtzhslqHtQ00NnaN0/VdwClmDT2Gi7FtQAAAAASUVORK5CYII=",alt:""},null,-1),z={class:"login"},G=n("div",{class:"line-left"},null,-1),K={class:"text"},L=p(" 已有账号，请点此"),F=p(" 登录 "),O=n("div",{class:"line-right"},null,-1);m();var M=s({expose:[],setup(s){const c=w(),d=I(),p=x(),m=a(!1),v=e({user_name:"",password:"",real_name:"",phone:""});a("");const A=async()=>{/^[a-z0-9]{3,64}$/.test(v.user_name)?v.password===v.user_name||v.password.includes(v.user_name)?d.error("用户名密码不能相同，且密码中不能包含用户名"):/^[\u4E00-\u9FA5]+$/.test(v.real_name)?(m.value=!0,p.dispatch("channel/register",v).then((s=>{if("success"===s.msg){d.warning("注册成功，请登录！"),c.push({name:"login"});let s=setInterval((()=>{m.value=!1,clearInterval(s)}),5e3)}})).catch((s=>{d.error(s.message);let a=setInterval((()=>{m.value=!1,clearInterval(a)}),5e3)}))):d.error("真实姓名长度为2-64位且只支持中文，请重新确认"):d.error("用户账号长度为3~64位且只支持小写英文和数字")};return g({title:"注册"}),(s,a)=>{const e=h("RouterLink");return l(),t("div",b,[V,n("div",j,[n("div",C,[E,n("form",{class:"login-wrapper",onSubmit:o(A,["prevent"])},[n("div",R,[r(n("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=s=>u(v).user_name=s),class:"input",placeholder:"",autocomplete:"user_name"},null,512),[[i,u(v).user_name]]),Q,f]),n("div",y,[r(n("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=s=>u(v).password=s),class:"input pwd",autocomplete:"new-password",onKeydown:a[3]||(a[3]=s=>{document.querySelector(".pwd").type="password"})},null,544),[[i,u(v).password]]),q,N]),n("div",X,[r(n("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=s=>u(v).real_name=s),class:"input",autocomplete:"org_name"},null,512),[[i,u(v).real_name]]),S,T]),n("div",_,[r(n("input",{type:"text","onUpdate:modelValue":a[5]||(a[5]=s=>u(v).phone=s),class:"input",autocomplete:"phone"},null,512),[[i,u(v).phone]]),B,J]),n("div",W,[n("button",{disabled:!!m.value,class:"btn"},[Y,k],8,["disabled"])]),n("div",z,[G,n("div",K,[L,n("span",null,[n(e,{to:{name:"login"}},{default:U((()=>[F])),_:1})])]),O])],40,["onSubmit"])])])])}}});M.__scopeId="data-v-4a891704";export default M;
