import"./useNotyf.8c9a8697.js";import{d as e}from"./index.670b29b2.js";import{B as t}from"./base64.8e96393c.js";import{B as s,C as a,d as r,r as n,j as i,k as l,F as c,S as o,l as d,n as u,U as f,A as p}from"./vendor.6243191d.js";s("data-v-4ed9f73e");const m={class:"container"},v={key:0,class:"fas fa-folder"},h={key:1,class:"fas fa-file-alt"},y={class:"title"},C={key:0,class:"children"};a();var g=r({expose:[],props:{treeData:{type:Array,default:[]},treeContent:{type:Object,default:{}}},emits:["content"],setup(s,{emit:a}){const r=s,g=e();let j=n(""),k=n("");const x=e=>{if(e.children)e.isExtend=!e.isExtend;else{document.querySelectorAll(".title").forEach((e=>{e.className.includes("crude")&&e.classList.remove("crude")})),"row"===event.target.classList[0]?event.target.lastChild.classList.add("crude"):event.target.classList.add("crude"),j.value=w(e.id,JSON.parse(localStorage.getItem("files"))).join("/"),k.value="package/"+j.value;for(let e in r.treeContent)if(k.value===e){if("文件类型不支持预览"===t.decode(r.treeContent[e]))return void g.commit("channel/preview","文件类型不支持预览，当前可预览文件类型包括 .js  .html  .json  .cc  .c  .py  .md  .gyp");g.commit("channel/preview",t.decode(r.treeContent[e]))}}};function w(e,t,s=[]){for(let a=0;a<t.length;a+=1){const r=t[a];if(r.id===e)return s.push(r.title),1!==s.length||s;if(r.children){s.push(r.title);if(w(e,r.children,s))return s;s.pop()}}return!1}return(e,t)=>{const a=d("ViewListTree",!0);return i(),l("div",m,[(i(!0),l(c,null,o(s.treeData,(e=>(i(),l("div",{key:e},[u("div",{class:"row",onClick:t=>x(e)},[e.children?(i(),l("i",v)):(i(),l("i",h)),u("span",y,f(e.title),1)],8,["onClick"]),e.isExtend?(i(),l("div",C,[u(a,{"tree-data":e.children,"tree-Content":s.treeContent},null,8,["tree-data","tree-Content"])])):p("",!0)])))),128))])}}});g.__scopeId="data-v-4ed9f73e";export{g as _};
